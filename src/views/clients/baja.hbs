<div id="contenedor">
    <div class="container py-3">
        <div class="row">
            <div class="mx-auto">
                <!-- form user info -->
                <div class="card">
                    <div class="card-header">
                        <div class="row my-auto">
                            <div class="col-1" style="z-index: 1;">
                                <button type="button" onclick="window.location.href='/clientes'" class="btn btn-dark"><i
                                        class="fas fa-chevron-circle-left"></i></button>
                            </div>
                            <div class="col-10 my-auto ml-2">
                                <h5 class="text-center my-auto">Información Cliente</h5>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <form class="form" role="form" autocomplete="off" action="/clientes/baja" method="POST">
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Cliente</label>
                                <div class="col-lg-9">
                                    <select class="form-control" id="clientsSelect" name="clienteModificar"
                                        onchange="LlenarFormulario();">
                                        {{#each clientesData}}
                                        <option value="{{toJSON this}}">{{calle}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Nombre</label>
                                <div class="col-lg-9">
                                    <input name="nombre" class="form-control" type="text"
                                        placeholder="Ingrese un Nombre" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Local</label>
                                <div class="col-lg-9">
                                    <input name="local" class="form-control" type="text"
                                        placeholder="Ingrese el Nombre del Local" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">CUIT</label>
                                <div class="col-lg-9">
                                    <input name="cuit" class="form-control" type="number" placeholder="CUIT" required>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">CUIL</label>
                                <div class="col-lg-9">
                                    <input name="cuil" class="form-control" type="number" placeholder="CUIL" required>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Teléfono</label>
                                <div class="col-lg-9">
                                    <input name="telefono" class="form-control" type="number" placeholder="Teléfono"
                                        required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Teléfono</label>
                                <div class="col-lg-9">
                                    <input name="telefono2" class="form-control" type="number" placeholder="Teléfono"
                                        required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Correo</label>
                                <div class="col-lg-9">
                                    <input name="correo" class="form-control" type="email"
                                        placeholder="Ingrese un Correo" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-2 col-form-label form-control-label text-center">Dirección</label>
                                <div class="col-lg-9">
                                    <input id="auto-complete" name="direccion" class="form-control" type="text"
                                        placeholder="¿Donde se ubica?"
                                        onkeyup="return autoCompleteListener(this, event);" required>
                                    <input name="direccionData" class="form-control" type="hidden">
                                </div>
                                <button type="button" class="btn btn-primary mx-auto px-3 mt-2"
                                    onclick="viewMap();">Visualizar
                                    Dirección</button>
                            </div>
                            <div style="display: none;" class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Latitud</label>
                                <div class="col-lg-9">
                                    <input name="lat" class="form-control" type="number" step="0.0000000000001"
                                        placeholder="Latitud" required>
                                </div>
                            </div>
                            <div style="display: none;" class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Longitud</label>
                                <div class="col-lg-9">
                                    <input name="lon" class="form-control" type="number" step="0.0000000000001"
                                        placeholder="Longitud" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="btn-group mx-auto" role="group">
                                    <button type="reset" class="btn btn-secondary mx-1">Cancelar</button>
                                    <button type="submit" class="btn btn-danger mx-1">Eliminar Cliente</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- /form user info -->
            </div>
        </div>
    </div>
</div>

<div id="hideMap" class="modal">
    <span onclick="document.getElementById('hideMap').style.display='none'; map.getViewPort().resize();" class="close"
        title="Close Modal">&times;</span>
    <form class="modal-content">
        <div class="px-5 py-2">
            <div id="map" class="mx-auto my-auto"></div>
        </div>
        <div class="form-group row mx-auto">
            <div class="input-group col-12">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                </div>
                <input type="text" class="form-control" id="direccionMapa" placeholder="Direccion" readonly>
            </div>
        </div>
        <div class="form-group row">
            <div class="btn-group mx-auto" role="group">
                <button type="button"
                    onclick="document.getElementById('hideMap').style.display='none'; map.getViewPort().resize();"
                    class="btn btn-success mx-1">Aceptar</button>
            </div>
        </div>
    </form>
</div>



<script type="text/javascript" src="/js/autocomplete.js"></script>
<script type="text/javascript" src="/js/ABMclientes.js"></script>
<script>
    window.addEventListener('resize', function () {
        map.getViewPort().resize();
    });

    function viewMap() {
        document.getElementById('hideMap').style.display = 'block';
        map.getViewPort().resize();
        document.getElementById("direccionMapa").value = document.getElementById("auto-complete").value;
    }
    $('.modal-content input').keydown(function (e) {
        if (e.keyCode == 13) {
            e.preventDefault();
            return false;
        }
    });
</script>